{
    "version": 3,
    "sources": [
        "../../../src/admin/controller/wap.js"
    ],
    "names": [
        "Base",
        "require",
        "module",
        "exports",
        "indexAction",
        "product",
        "model",
        "field",
        "alias",
        "join",
        "table",
        "as",
        "on",
        "select",
        "console",
        "log",
        "goods",
        "where",
        "is_delete",
        "item",
        "goods_id",
        "jtem",
        "id",
        "name",
        "value",
        "is_on_sale",
        "list_pic_url",
        "success",
        "onsaleAction",
        "info",
        "push",
        "outsaleAction",
        "updatePriceAction",
        "sn",
        "post",
        "price",
        "goods_sn",
        "update",
        "retail_price",
        "min",
        "outAction",
        "page",
        "get",
        "size",
        "data",
        "goods_number",
        "order",
        "countSelect",
        "category_id",
        "find",
        "category_name",
        "parent_id",
        "parentInfo",
        "category_p_name",
        "dropAction",
        "sortAction",
        "index",
        "saleStatusAction",
        "status",
        "sale",
        "infoAction",
        "cateData",
        "c_data",
        "f_data",
        "productInfo",
        "length",
        "infoData",
        "getAllCategory1Action",
        "is_show",
        "level",
        "newData",
        "children",
        "citem",
        "label",
        "getAllCategoryAction",
        "c_item",
        "getGoodsSnNameAction",
        "cateId",
        "storeAction",
        "values",
        "picUrl",
        "is_new",
        "add",
        "destoryAction",
        "limit",
        "delete"
    ],
    "mappings": "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",
    "file": "../../../src/admin/controller/wap.js",
    "sourcesContent": [
        "const Base = require('./base.js');\nmodule.exports = class extends Base {\n    /**\n     * index action\n     * @return {Promise} []\n     */\n    async indexAction() {\n        // const product = await this.model('product').where({is_delete:1}).delete()\n        const product = await this.model('product').field(['c.goods_sn', 'c.goods_id', 'c.goods_specification_ids', 'c.retail_price', 'g.value']).alias('c').join({\n            table: 'goods_specification',\n            join: 'left',\n            as: 'g',\n            on: ['c.goods_specification_ids', 'g.id']\n        }).select(); // 如果出错了，不会更新数据的\n        console.log(product);\n        // const goods = await this.model('goods').where({is_delete:0}).select();\n        const goods = await this.model('goods').where({\n            is_delete: 0\n        }).select();\n        for (const item of product) {\n            let goods_id = item.goods_id;\n            for (const jtem of goods) {\n                if (goods_id == jtem.id) {\n                    // const product = await this.model('product').where({goods_id:jtem.id}).update({is_delete:0})\n                    item.name = jtem.name + '-' + item.value;\n                    item.is_on_sale = jtem.is_on_sale;\n                    item.list_pic_url = jtem.list_pic_url;\n                    if (item.is_on_sale == 1) {\n                        item.is_on_sale = true;\n                    } else {\n                        item.is_on_sale = false;\n                    }\n                }\n            }\n        }\n        return this.success(product);\n    }\n    async onsaleAction() {\n        const product = await this.model('product').field(['c.goods_sn', 'c.goods_id', 'c.goods_specification_ids', 'c.retail_price', 'g.value']).alias('c').join({\n            table: 'goods_specification',\n            join: 'left',\n            as: 'g',\n            on: ['c.goods_specification_ids', 'g.id']\n        }).select(); // 如果出错了，不会更新数据的\n        const goods = await this.model('goods').where({\n            is_on_sale: 1,\n            is_delete: 0\n        }).select();\n        console.log(goods);\n        let info = [];\n        for (const item of product) {\n            let goods_id = item.goods_id;\n            for (const jtem of goods) {\n                if (goods_id == jtem.id) {\n                    item.name = jtem.name + '-' + item.value;\n                    item.is_on_sale = jtem.is_on_sale;\n                    item.list_pic_url = jtem.list_pic_url;\n                    if (item.is_on_sale == 1) {\n                        item.is_on_sale = true;\n                        info.push(item);\n                    }\n                }\n            }\n        }\n        console.log(product);\n        return this.success(info);\n    }\n    async outsaleAction() {\n        const product = await this.model('product').field(['c.goods_sn', 'c.goods_id', 'c.goods_specification_ids', 'c.retail_price', 'g.value']).alias('c').join({\n            table: 'goods_specification',\n            join: 'left',\n            as: 'g',\n            on: ['c.goods_specification_ids', 'g.id']\n        }).select(); // 如果出错了，不会更新数据的\n        let info = [];\n        const goods = await this.model('goods').where({\n            is_on_sale: 0,\n            is_delete: 0\n        }).select();\n        console.log(goods);\n        for (const item of product) {\n            let goods_id = item.goods_id;\n            for (const jtem of goods) {\n                if (goods_id == jtem.id) {\n                    item.name = jtem.name + '-' + item.value;\n                    item.is_on_sale = jtem.is_on_sale;\n                    item.list_pic_url = jtem.list_pic_url;\n                    if (item.is_on_sale == 0) {\n                        item.is_on_sale = false;\n                        info.push(item);\n                    }\n                }\n            }\n        }\n        console.log(product);\n        return this.success(info);\n    }\n    async updatePriceAction() {\n        const sn = this.post('sn');\n        const id = this.post('id');\n        const price = this.post('price');\n        const info = await this.model('product').where({\n            goods_sn: sn\n        }).update({\n            retail_price: price\n        });\n        let min = await this.model('product').where({\n            goods_id: id\n        }).min('retail_price');\n        await this.model('cart').where({\n            goods_sn: sn\n        }).update({\n            retail_price: price\n        });\n        await this.model('goods').where({\n            id: id\n        }).update({\n            retail_price: min\n        });\n        return this.success();\n    }\n    async outAction() {\n        const page = this.get('page') || 1;\n        const size = this.get('size') || 10;\n        const model = this.model('goods');\n        const data = await model.where({\n            is_delete: 0,\n            goods_number: ['<=', 0]\n        }).order(['id DESC']).page(page, size).countSelect();\n        for (const item of data.data) {\n            const info = await this.model('category').where({\n                id: item.category_id\n            }).find();\n            item.category_name = info.name;\n            if (info.parent_id != 0) {\n                const parentInfo = await this.model('category').where({\n                    id: info.parent_id\n                }).find();\n                item.category_p_name = parentInfo.name;\n            }\n            if (item.is_on_sale == 1) {\n                item.is_on_sale = true;\n            } else {\n                item.is_on_sale = false;\n            }\n        }\n        return this.success(data);\n    }\n    async dropAction() {\n        const page = this.get('page') || 1;\n        const size = this.get('size') || 10;\n        const model = this.model('goods');\n        const data = await model.where({\n            is_delete: 0,\n            is_on_sale: 0\n        }).order(['id DESC']).page(page, size).countSelect();\n        for (const item of data.data) {\n            const info = await this.model('category').where({\n                id: item.category_id\n            }).find();\n            item.category_name = info.name;\n            if (info.parent_id != 0) {\n                const parentInfo = await this.model('category').where({\n                    id: info.parent_id\n                }).find();\n                item.category_p_name = parentInfo.name;\n            }\n            if (item.is_on_sale == 1) {\n                item.is_on_sale = true;\n            } else {\n                item.is_on_sale = false;\n            }\n        }\n        return this.success(data);\n    }\n    async sortAction() {\n        const page = this.get('page') || 1;\n        const size = this.get('size') || 10;\n        const model = this.model('goods');\n        const index = this.get('index');\n        if (index == 1) {\n            const data = await model.where({\n                is_delete: 0\n            }).order(['sell_volume DESC']).page(page, size).countSelect();\n            for (const item of data.data) {\n                const info = await this.model('category').where({\n                    id: item.category_id\n                }).find();\n                item.category_name = info.name;\n                if (info.parent_id != 0) {\n                    const parentInfo = await this.model('category').where({\n                        id: info.parent_id\n                    }).find();\n                    item.category_p_name = parentInfo.name;\n                }\n                if (item.is_on_sale == 1) {\n                    item.is_on_sale = true;\n                } else {\n                    item.is_on_sale = false;\n                }\n            }\n            return this.success(data);\n        } else if (index == 2) {\n            const data = await model.where({\n                is_delete: 0\n            }).order(['retail_price DESC']).page(page, size).countSelect();\n            for (const item of data.data) {\n                const info = await this.model('category').where({\n                    id: item.category_id\n                }).find();\n                item.category_name = info.name;\n                if (info.parent_id != 0) {\n                    const parentInfo = await this.model('category').where({\n                        id: info.parent_id\n                    }).find();\n                    item.category_p_name = parentInfo.name;\n                }\n                if (item.is_on_sale == 1) {\n                    item.is_on_sale = true;\n                } else {\n                    item.is_on_sale = false;\n                }\n            }\n            return this.success(data);\n        } else if (index == 3) {\n            const data = await model.where({\n                is_delete: 0\n            }).order(['goods_number DESC']).page(page, size).countSelect();\n            for (const item of data.data) {\n                const info = await this.model('category').where({\n                    id: item.category_id\n                }).find();\n                item.category_name = info.name;\n                if (info.parent_id != 0) {\n                    const parentInfo = await this.model('category').where({\n                        id: info.parent_id\n                    }).find();\n                    item.category_p_name = parentInfo.name;\n                }\n                if (item.is_on_sale == 1) {\n                    item.is_on_sale = true;\n                } else {\n                    item.is_on_sale = false;\n                }\n            }\n            return this.success(data);\n        }\n    }\n    async saleStatusAction() {\n        const id = this.get('id');\n        const status = this.get('status');\n        let sale = 0;\n        if (status == 'true') {\n            sale = 1;\n        }\n        const model = this.model('goods');\n        await model.where({\n            id: id\n        }).update({\n            is_on_sale: sale\n        });\n    }\n    async infoAction() {\n        const id = this.get('id');\n        const model = this.model('goods');\n        const data = await model.where({\n            id: id\n        }).find();\n        console.log(data);\n        let category_id = data.category_id;\n        let cateData = [];\n        const c_data = await this.model('category').where({\n            id: category_id\n        }).find();\n        const f_data = await this.model('category').where({\n            id: c_data.parent_id\n        }).find();\n        cateData.push(f_data.id, c_data.id);\n        let productInfo = await this.model('product').where({\n            goods_id: id\n        }).select();\n        if (productInfo.length > 1) {}\n        let infoData = {\n            info: data,\n            cateData: cateData,\n        };\n        return this.success(infoData);\n    }\n    async getAllCategory1Action() { // 我写的算法\n        const model = this.model('category');\n        const data = await model.where({\n            is_show: 1,\n            level: 'L1'\n        }).select();\n        const c_data = await model.where({\n            is_show: 1,\n            level: 'L2'\n        }).select();\n        let newData = [];\n        for (const item of data) {\n            let children = [];\n            for (const citem of c_data) {\n                if (citem.parent_id == item.id) {\n                    children.push({\n                        value: citem.id,\n                        label: citem.name\n                    })\n                }\n            }\n            newData.push({\n                value: item.id,\n                label: item.name,\n                children: children\n            });\n        }\n        return this.success(newData);\n    }\n    async getAllCategoryAction() { // 晓玲的算法，她要\n        const model = this.model('category');\n        const data = await model.where({\n            is_show: 1,\n            level: 'L1'\n        }).field('id,name').select();\n        let newData = [];\n        for (const item of data) {\n            let children = [];\n            const c_data = await model.where({\n                is_show: 1,\n                level: 'L2',\n                parent_id: item.id\n            }).field('id,name').select();\n            for (const c_item of c_data) {\n                children.push({\n                    value: c_item.id,\n                    label: c_item.name\n                })\n            }\n            newData.push({\n                value: item.id,\n                label: item.name,\n                children: children\n            });\n        }\n        return this.success(newData);\n    }\n    async getGoodsSnNameAction() {\n        const cateId = this.get('cateId');\n        const model = this.model('goods');\n        const data = await model.where({\n            category_id: cateId,\n            is_delete: 0\n        }).field('goods_sn,name').order({\n            'goods_sn': 'DESC'\n        }).select();\n        return this.success(data);\n    }\n    async storeAction() {\n        const values = this.post('info');\n        const model = this.model('goods');\n        let picUrl = values.list_pic_url;\n        let goods_id = values.id;\n        await this.model('cart').where({\n            goods_id: goods_id\n        }).update({\n            list_pic_url: picUrl\n        });\n        values.is_new = values.is_new ? 1 : 0;\n        let id = values.id;\n        if (id > 0) {\n            await model.where({\n                id: id\n            }).update(values);\n        } else {\n            delete values.id;\n            let goods_id = await model.add(values);\n            await model.where({\n                id: goods_id\n            }).update({\n                goods_sn: goods_id\n            });\n        }\n        return this.success(values);\n    }\n   \n    async destoryAction() {\n        const id = this.post('id');\n        await this.model('goods').where({\n            id: id\n        }).limit(1).delete();\n        // TODO 删除图片\n        return this.success();\n    }\n};"
    ]
}